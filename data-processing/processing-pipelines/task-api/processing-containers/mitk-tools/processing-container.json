{
    "name": "mitk-tools",
    "description": "Processing container for registering dicom images",
    "templates": [
        {
            "identifier": "register",
            "description": "Register dicom images",
            "env": [
            ],
            "inputs": [
                {
                    "name": "fixed",
                    "mounted_path": "/home/kaapana/fixed",
                    "description": "Expects a single subdirectory with a single .nnrd file for the target image."
                },
                {
                    "name": "moving",
                    "mounted_path": "/home/kaapana/moving",
                    "description": "Expects for each image that should be registered a subdirectory that contains a single .nnrd file",
                    "scale_rule": {
                        "complexity": "50*n**1",
                        "type": "limit",
                        "mode": "max_item_sum",
                        "target_glob": "*.nrrd"
                    }
                    
                }],
            "outputs": [
                {
                    "name": "registered",
                    "mounted_path": "/home/kaapana/registered",
                    "description": "Creates for each subdirectory in moving a subdirectory with the same basename that contains a registered .nnrd file"
                }
            ],
            "command": ["/bin/bash", "/home/kaapana/register.sh"],
            "resources": {
                "limits": {
                    "memory": "1000Mi"
                },
                "requests": {
                    "memory": "100Mi"
                }
            }
        },
        {
            "identifier": "convert",
            "description": "Conver dicom series to nrrd files",
            "env": [
            ],
            "inputs": [
                {
                    "name": "dicom",
                    "mounted_path": "/home/kaapana/dicom",
                    "scale_rule": {
                        "complexity": "10*n**1",
                        "type": "limit",
                        "mode": "max_item_sum",
                        "target_glob": "*.dcm"
                    }
                }
            ],
            "outputs": [
                {
                    "name": "nrrd",
                    "mounted_path": "/home/kaapana/nrrd"
                }
            ],
            "command": ["/bin/bash", "/home/kaapana/convert.sh"],
            "resources": {
                "limits": {
                    "memory": "500Mi"
                },
                "requests": {
                    "memory": "100Mi"
                }
            }
        }
    ]
}